<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Muki 2026 å‘½è¿å¤§è½¬ç›˜ ğŸ¡</title>
    <style>
        /* --- å…¨å±€æ ·å¼ --- */
        body {
            margin: 0; padding: 0;
            background-color: #fcfcf0; /* ç±³è‰²èƒŒæ™¯ */
            font-family: -apple-system, sans-serif;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh; overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        h1 { color: #333; margin-top: 30px; letter-spacing: 2px; font-size: 20px; }

        /* --- è½¬ç›˜å®¹å™¨ --- */
        .wheel-container {
            position: relative;
            width: 320px; height: 320px;
            margin-top: 30px;
            filter: drop-shadow(0 10px 15px rgba(0,0,0,0.15));
        }

        /* --- è½¬ç›˜æœ¬ä½“ --- */
        #wheel {
            width: 100%; height: 100%;
            border-radius: 50%;
            border: 8px solid #333; /* è½¬ç›˜å¤–æ¡† */
            box-sizing: border-box;
            position: relative;
            transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99); /* æ—‹è½¬åŠ¨ç”»æ›²çº¿ï¼šå…ˆå¿«åæ…¢ */
            overflow: hidden;
        }

        /* --- æ‰‡å½¢åŒºåŸŸ (ç”¨ CSS é”¥å½¢æ¸å˜ç”»å‡º 6 ä¸ªæ ¼) --- */
        /* é¡ºåºæ˜¯é¡ºæ—¶é’ˆï¼š
           1. æ¡ƒèŠ± (Love) - ç²‰è‰²
           2. è´¢è¿ (Wealth) - é‡‘è‰²
           3. å¥åº· (Health) - ç»¿è‰²
           4. å¥½è¿ (Lucky) - é»„è‰²
           5. äº‹ä¸š (Career) - è“è‰²
           6. éšè— (Secret) - ç´«è‰²
        */
        .wheel-bg {
            width: 100%; height: 100%;
            border-radius: 50%;
            background: conic-gradient(
                #FF9AA2 0deg 60deg,   /* æ¡ƒèŠ± */
                #FFDAC1 60deg 120deg, /* è´¢è¿ */
                #E2F0CB 120deg 180deg,/* å¥åº· */
                #FFEF96 180deg 240deg,/* å¥½è¿ */
                #B5EAD7 240deg 300deg,/* äº‹ä¸š */
                #C7CEEA 300deg 360deg /* éšè— */
            );
        }

        /* --- æ–‡å­—æ ‡ç­¾ --- */
        .label {
            position: absolute;
            top: 50%; left: 50%;
            transform-origin: 0 0;
            color: #333; font-weight: bold; font-size: 16px;
            width: 130px; /* åŠå¾„é•¿åº¦ */
            text-align: right;
            padding-right: 20px;
            line-height: 0;
            margin-top: -1px; /* å¾®è°ƒå‚ç›´å±…ä¸­ */
        }

        /* æ—‹è½¬æ–‡å­—è®©å®ƒä»¬å¯¹é½åˆ°æ¯ä¸ªæ ¼å­çš„ä¸­é—´ */
        /* æ¯ä¸ªæ ¼å­60åº¦ï¼Œä¸­é—´å°±æ˜¯30åº¦ï¼Œ90åº¦ï¼Œ150åº¦... */
        .l-1 { transform: rotate(30deg) translateY(-50%); }  /* æ¡ƒèŠ± */
        .l-2 { transform: rotate(90deg) translateY(-50%); }  /* è´¢è¿ */
        .l-3 { transform: rotate(150deg) translateY(-50%); } /* å¥åº· */
        .l-4 { transform: rotate(210deg) translateY(-50%); } /* å¥½è¿ */
        .l-5 { transform: rotate(270deg) translateY(-50%); } /* äº‹ä¸š */
        .l-6 { transform: rotate(330deg) translateY(-50%); } /* éšè— */

        /* --- æŒ‡é’ˆ (Arrow) --- */
        .pointer {
            position: absolute;
            top: -15px; left: 50%;
            transform: translateX(-50%);
            width: 0; height: 0;
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 35px solid #FF5252; /* çº¢è‰²æŒ‡é’ˆ */
            z-index: 10;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        /* --- ä¸­é—´æŒ‰é’® (GO) --- */
        .center-btn {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 70px; height: 70px;
            background: #fff;
            border-radius: 50%;
            border: 5px solid #333;
            display: flex; justify-content: center; align-items: center;
            font-weight: 900; font-size: 24px; color: #333;
            cursor: pointer;
            z-index: 5;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .center-btn:active { background: #eee; transform: translate(-50%, -50%) scale(0.95); }

        /* --- å¼¹çª—æ ·å¼ (Modal) --- */
        #modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 999;
            display: none; /* é»˜è®¤éšè— */
            justify-content: center; align-items: center;
            opacity: 0; transition: opacity 0.3s;
        }
        .modal-content {
            width: 85%; max-width: 380px;
            background: transparent;
            text-align: center;
            position: relative;
        }
        #result-img {
            width: 100%; border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4);
            display: block;
        }
        .close-btn {
            margin-top: 20px;
            padding: 10px 30px;
            background: white; border-radius: 30px;
            border: none; font-weight: bold; font-size: 16px;
            cursor: pointer;
        }

    </style>
</head>
<body>

    <h1>âœ¨ 2026 è½¬å‡ºå¥½è¿ âœ¨</h1>

    <div class="wheel-container">
        <div class="pointer"></div>

        <div id="wheel">
            <div class="wheel-bg"></div>
            
            <div class="label l-1">ğŸŒ¸ æ¡ƒèŠ±</div>
            <div class="label l-2">ğŸ’° è´¢è¿</div>
            <div class="label l-3">ğŸŒ¿ å¥åº·</div>
            <div class="label l-4">ğŸ€ å¥½è¿</div>
            <div class="label l-5">ğŸ’¼ äº‹ä¸š</div>
            <div class="label l-6">ğŸ”® éšè—</div>
        </div>

        <div class="center-btn" onclick="spinWheel()">GO</div>
    </div>

    <div id="modal-overlay">
        <div class="modal-content">
            <img id="result-img" src="" alt="Result">
            <button class="close-btn" onclick="closeModal()">æ”¶ä¸‹ç¥ç¦</button>
        </div>
    </div>

    <script>
        let currentRotation = 0; // è®°å½•å½“å‰è½¬åˆ°äº†å¤šå°‘åº¦
        let isSpinning = false;  // é˜²æ­¢é‡å¤ç‚¹å‡»

        // è¿™é‡Œå®šä¹‰æ¯ä¸ªæ ¼å­çš„æ•°æ®
        // æ³¨æ„ï¼šå› ä¸ºCSSæ˜¯é¡ºæ—¶é’ˆç”»çš„ï¼ŒæŒ‡é’ˆåœ¨ä¸Šé¢
        // 0-60åº¦æ˜¯æ¡ƒèŠ±ï¼Œ60-120æ˜¯è´¢è¿...
        // ä½†æ˜¯ï¼è½¬ç›˜æ˜¯é¡ºæ—¶é’ˆè½¬ï¼Œæ„å‘³ç€æŒ‡é’ˆå®é™…ä¸Šæ˜¯â€œé€†æ—¶é’ˆâ€æ‰«è¿‡æ ¼å­çš„
        // æ‰€ä»¥é¡ºåºè¦åç€ç®—ï¼Œæˆ–è€…ç”¨æ•°å­¦å…¬å¼è‡ªåŠ¨ç®—ã€‚
        // ä¸ºäº†ç®€å•ï¼Œæˆ‘ä»¬ç›´æ¥åˆ—å‡º 6 ä¸ªæ‰‡åŒºçš„åå­—å’Œå¯¹åº”çš„æ–‡ä»¶å‰ç¼€
        const segments = [
            { name: 'æ¡ƒèŠ±', file: 'Love' },   // 0
            { name: 'éšè—', file: 'Secret' }, // 1 (è½¬åŠ¨ä¸€æ ¼åï¼Œéšè—ä¼šè·‘åˆ°æŒ‡é’ˆä¸‹é¢)
            { name: 'äº‹ä¸š', file: 'Career' }, // 2
            { name: 'å¥½è¿', file: 'Lucky' },  // 3
            { name: 'å¥åº·', file: 'Health' }, // 4
            { name: 'è´¢è¿', file: 'Wealth' }  // 5
        ];

        function spinWheel() {
            if (isSpinning) return;
            isSpinning = true;

            const wheel = document.getElementById('wheel');
            
            // 1. éšæœºæ—‹è½¬åº¦æ•° (è‡³å°‘è½¬ 5 åœˆ = 1800åº¦ï¼ŒåŠ ä¸Šéšæœº 0-360)
            const randomDeg = Math.floor(Math.random() * 360);
            const extraSpins = 1800; 
            const totalDeg = currentRotation + extraSpins + randomDeg;

            // 2. æ‰§è¡Œæ—‹è½¬ CSS
            wheel.style.transform = `rotate(${totalDeg}deg)`;
            
            // æ›´æ–°å½“å‰è§’åº¦ï¼Œä¾›ä¸‹æ¬¡ä½¿ç”¨
            currentRotation = totalDeg;

            // 3. è®¡ç®—ç»“æœ (ç­‰å¾…4ç§’åŠ¨ç”»ç»“æŸ)
            setTimeout(() => {
                isSpinning = false;
                calculateResult(totalDeg);
            }, 4000);
        }

        function calculateResult(finalAngle) {
            // å–ä½™æ•°ï¼Œå¾—åˆ°ä¹Ÿå°±æ˜¯æœ€ç»ˆè½¬ç›˜ç›¸å¯¹äº0åº¦çš„ä½ç½®
            const actualDeg = finalAngle % 360;
            
            // æ¯ä¸ªæ ¼å­ 60 åº¦
            // ç®—å‡ºæŒ‡é’ˆæŒ‡å‘äº†ç¬¬å‡ ä¸ªæ ¼å­
            // æ¯”å¦‚è½¬äº† 30 åº¦ï¼ŒæŒ‡é’ˆè¿˜åœ¨ index 0
            // è½¬äº† 70 åº¦ï¼ŒæŒ‡é’ˆå°±åœ¨ index 5 (å› ä¸ºæ˜¯é¡ºæ—¶é’ˆè½¬ï¼Œä¸Šé¢çš„æ ¼å­å¾€å³è·‘äº†ï¼Œå·¦è¾¹çš„ä¸Šæ¥äº†)
            
            // ç®€å•çš„æ•°å­¦è½¬æ¢ï¼š(360 - è§’åº¦) / 60
            let index = Math.floor((360 - actualDeg) / 60) % 6;
            
            const result = segments[index];
            console.log("æŠ½åˆ°äº†: " + result.name);
            
            showResult(result.file);
        }

        function showResult(category) {
            // éšæœº 1-50
            const randomNum = Math.floor(Math.random() * 50) + 1;
            const fileName = category + '_' + randomNum + '.png';
            
            // æ˜¾ç¤ºå¼¹çª—
            const modal = document.getElementById('modal-overlay');
            const img = document.getElementById('result-img');
            
            img.src = fileName;
            modal.style.display = 'flex';
            
            // ç¨å¾®å»¶è¿Ÿä¸€ç‚¹è®©æ·¡å…¥åŠ¨ç”»ç”Ÿæ•ˆ
            setTimeout(() => { modal.style.opacity = '1'; }, 10);
        }

        function closeModal() {
            const modal = document.getElementById('modal-overlay');
            modal.style.opacity = '0';
            setTimeout(() => { modal.style.display = 'none'; }, 300);
        }
    </script>

</body>
</html>
